{"ast":null,"code":"var _jsxFileName = \"/Users/leowong/Desktop/hk-transport-data/hk-transport-display/src/component/LrtInfo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Card, CardContent, Chip } from \"@material-ui/core\";\nimport LangText from \"./LrtInfo.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LrtInfo({\n  sid,\n  lang\n}) {\n  _s();\n\n  const [lrtETA, setLRTEta] = useState();\n  const lrtApi = `https://rt.data.gov.hk/v1/transport/mtr/lrt/getSchedule?station_id=${sid}`;\n  let fLang = \"\";\n\n  if (lang == \"tc\") {\n    fLang = \"ch\";\n  } else {\n    fLang = lang;\n  }\n\n  useEffect(() => {\n    setInterval(() => {\n      axios.get(lrtApi).then(res => setLRTEta(res.data));\n    }, 10000);\n  }, []);\n  useEffect(() => {\n    axios.get(lrtApi).then(res => setLRTEta(res.data));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lrtinfo\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"infobox\",\n      children: lrtETA === null || lrtETA === void 0 ? void 0 : lrtETA.platform_list.map(plat => {\n        var _plat$route_list;\n\n        return /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Chip, {\n            variant: \"outlined\",\n            color: \"primary\",\n            label: LangText.lrtStation.r[sid] + LangText.lrtCommon[lang].stn + \", \" + LangText.lrtETABox[lang].plat + \": \" + plat.platform_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 13\n          }, this), (_plat$route_list = plat.route_list) === null || _plat$route_list === void 0 ? void 0 : _plat$route_list.map(train => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"etaBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lrt__route\",\n              children: /*#__PURE__*/_jsxDEV(Chip, {\n                size: \"small\",\n                label: train.route_no\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"etaBox__row\",\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                children: train[\"dest_\" + fLang]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: \"1 0 0\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"etaBox__row\",\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                children: train[\"time_\" + fLang]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lrtTrain__length\",\n              children: Array(train.train_length).fill().map((_, i) => \"ðŸš‹\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LrtInfo, \"6aqQDlMf9WVMP3kly/anmaBiEcM=\");\n\n_c = LrtInfo;\nexport default LrtInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"LrtInfo\");","map":{"version":3,"sources":["/Users/leowong/Desktop/hk-transport-data/hk-transport-display/src/component/LrtInfo.js"],"names":["React","useEffect","useState","axios","Card","CardContent","Chip","LangText","LrtInfo","sid","lang","lrtETA","setLRTEta","lrtApi","fLang","setInterval","get","then","res","data","platform_list","map","plat","lrtStation","r","lrtCommon","stn","lrtETABox","platform_id","route_list","train","route_no","flex","Array","train_length","fill","_","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Card, CardContent, Chip } from \"@material-ui/core\";\nimport LangText from \"./LrtInfo.js\";\n\nfunction LrtInfo({ sid, lang }) {\n  const [lrtETA, setLRTEta] = useState();\n  const lrtApi = `https://rt.data.gov.hk/v1/transport/mtr/lrt/getSchedule?station_id=${sid}`;\n  let fLang = \"\";\n\n  if (lang == \"tc\") {\n    fLang = \"ch\";\n  } else {\n    fLang = lang;\n  }\n\n  useEffect(() => {\n    setInterval(() => {\n      axios.get(lrtApi).then((res) => setLRTEta(res.data));\n    }, 10000);\n  }, []);\n\n  useEffect(() => {\n    axios.get(lrtApi).then((res) => setLRTEta(res.data));\n  }, []);\n  return (\n    <div className=\"lrtinfo\">\n      <Card className=\"infobox\">\n        {lrtETA?.platform_list.map((plat) => (\n          <CardContent>\n            <Chip\n              variant=\"outlined\"\n              color=\"primary\"\n              label={\n                LangText.lrtStation.r[sid] +\n                LangText.lrtCommon[lang].stn +\n                \", \" +\n                LangText.lrtETABox[lang].plat +\n                \": \" +\n                plat.platform_id\n              }\n            />\n            {plat.route_list?.map((train) => (\n              <div className=\"etaBox\">\n                <div className=\"lrt__route\">\n                  <Chip size=\"small\" label={train.route_no} />\n                </div>\n                <div className=\"etaBox__row\">\n                  <small>{train[\"dest_\" + fLang]}</small>\n                </div>\n                <div style={{ flex: \"1 0 0\" }} />\n                <div className=\"etaBox__row\">\n                  <small>{train[\"time_\" + fLang]}</small>\n                </div>\n                <div className=\"lrtTrain__length\">\n                  {Array(train.train_length)\n                    .fill()\n                    .map((_, i) => \"ðŸš‹\")}\n                </div>\n              </div>\n            ))}\n          </CardContent>\n        ))}\n      </Card>\n    </div>\n  );\n}\n\nexport default LrtInfo;\n"]},"metadata":{},"sourceType":"module"}