{"ast":null,"code":"var _jsxFileName = \"/Users/leowong/Desktop/hk-transport-data/hk-transport-display/src/component/LrtInfo.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LrtInfo({\n  station,\n  lang\n}) {\n  _s();\n\n  const [lrtETA, setLRTEta] = useState();\n  const lrtApi = `https://rt.data.gov.hk/v1/transport/mtr/lrt/getSchedule?station_id=${station}`;\n  let fLang = \"\";\n\n  if (lang == \"tc\") {\n    fLang = \"ch\";\n  } else {\n    fLang = lang;\n  }\n\n  useEffect(() => {\n    setInterval(() => {\n      axios.get(lrtApi).then(res => setLRTEta(res.data));\n    }, 10000);\n  }, []);\n  useEffect(() => {\n    axios.get(lrtApi).then(res => setLRTEta(res.data));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lrtinfo\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"infobox\",\n      children: lrtETA === null || lrtETA === void 0 ? void 0 : lrtETA.platform_list.map(plat => {\n        var _plat$route_list;\n\n        return /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Chip, {\n            variant: \"outlined\",\n            color: \"primary\",\n            label: LangText.lrtETABox[lang][station] + LangText.lrtETABox[lang].stn + \", \" + LangText.lrtETABox[lang].plat + \": \" + plat.platform_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 13\n          }, this), (_plat$route_list = plat.route_list) === null || _plat$route_list === void 0 ? void 0 : _plat$route_list.map(train => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"etaBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lrt__route\",\n              children: /*#__PURE__*/_jsxDEV(Chip, {\n                size: \"small\",\n                label: train.route_no\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"etaBox__row\",\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                children: train[\"dest_\" + fLang]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: \"1 0 0\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"etaBox__row\",\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                children: train[\"time_\" + fLang]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lrtTrain__length\",\n              children: Array(train.train_length).fill().map((_, i) => \"ðŸš‹\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LrtInfo, \"6aqQDlMf9WVMP3kly/anmaBiEcM=\");\n\n_c = LrtInfo;\nexport default LrtInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"LrtInfo\");","map":{"version":3,"sources":["/Users/leowong/Desktop/hk-transport-data/hk-transport-display/src/component/LrtInfo.js"],"names":["React","axios","LrtInfo","station","lang","lrtETA","setLRTEta","useState","lrtApi","fLang","useEffect","setInterval","get","then","res","data","platform_list","map","plat","LangText","lrtETABox","stn","platform_id","route_list","train","route_no","flex","Array","train_length","fill","_","i"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nfunction LrtInfo({ station, lang }) {\n\n    const [lrtETA, setLRTEta] = useState();\n  const lrtApi = `https://rt.data.gov.hk/v1/transport/mtr/lrt/getSchedule?station_id=${station}`;\n  let fLang = \"\";\n\n  if (lang == \"tc\") {\n    fLang = \"ch\";\n  } else {\n    fLang = lang;\n  }\n\n  useEffect(() => {\n    setInterval(() => {\n      axios.get(lrtApi).then((res) => setLRTEta(res.data));\n    }, 10000);\n  }, []);\n\n  useEffect(() => {\n    axios.get(lrtApi).then((res) => setLRTEta(res.data));\n  }, []);\n    return (\n        <div className=\"lrtinfo\">\n            <Card className=\"infobox\">\n        {lrtETA?.platform_list.map((plat) => (\n          <CardContent>\n            <Chip\n              variant=\"outlined\"\n              color=\"primary\"\n              label={\n                LangText.lrtETABox[lang][station] +\n                LangText.lrtETABox[lang].stn +\n                \", \" +\n                LangText.lrtETABox[lang].plat +\n                \": \" +\n                plat.platform_id\n              }\n            />\n            {plat.route_list?.map((train) => (\n              <div className=\"etaBox\">\n                <div className=\"lrt__route\">\n                  <Chip size=\"small\" label={train.route_no} />\n                </div>\n                <div className=\"etaBox__row\"><small>{train[\"dest_\" + fLang]}</small></div>\n                <div style={{ flex: \"1 0 0\" }} />\n                <div className=\"etaBox__row\"><small>{train[\"time_\" + fLang]}</small></div>\n                <div className=\"lrtTrain__length\">\n                  {Array(train.train_length)\n                    .fill()\n                    .map((_, i) => \"ðŸš‹\")}\n                </div>\n              </div>\n            ))}\n          </CardContent>\n        ))}\n      </Card>\n        </div>\n    )\n}\n\nexport default LrtInfo\n"]},"metadata":{},"sourceType":"module"}